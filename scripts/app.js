(()=>{"use strict";const e=(e,d)=>{const s=document.createElement("div");s.className="card",s.draggable=!0;const n=document.createElement("h2");n.className="card-title",n.textContent=e,s.appendChild(n),d.lastElementChild.before(s),t()},t=()=>{const e=document.querySelectorAll(".card"),t=document.querySelectorAll(".lists__item");let d=null;for(const s of e){s.addEventListener("dragstart",(()=>{d=s,setTimeout((()=>{s.style.display="none"}),0)})),s.addEventListener("dragend",(()=>{setTimeout((()=>{d.style.display="block",d=null}),0)}));for(const e of t)e.addEventListener("dragenter",(t=>{t.preventDefault(),e.style.backgroundColor="#ccc"})),e.addEventListener("dragover",(t=>{t.preventDefault(),e.style.backgroundColor="#ccc"})),e.addEventListener("dragleave",(t=>{e.style.backgroundColor="#eee"})),e.addEventListener("drop",(t=>{null!==d&&(e.lastElementChild.before(d),e.style.backgroundColor="#eee")}))}};(()=>{const d=document.getElementById("lists"),s=document.getElementById("add-list__creat"),n=document.querySelector(".input-div"),a=document.getElementById("add-list__input"),l=document.getElementById("add-list__confirm-btn"),i=document.getElementById("add-list__cancel-btn");s.addEventListener("click",(()=>{s.classList.contains("visible")&&s.classList.remove("visible"),s.classList.add("hidden"),n.classList.remove("hidden"),n.classList.add("visible"),a.focus()})),a.addEventListener("input",(e=>{""!==e.target.value.trim()?l.disabled=!1:l.disabled=!0})),l.addEventListener("click",(()=>{((e,d)=>{const s=document.createElement("div");s.className="lists__item";const n=document.createElement("h2");n.className="list-title",n.textContent=e,s.appendChild(n),(e=>{const t=document.createElement("div");t.className="card-input-div hidden",t.innerHTML='\n    <input type="text" placeholder="Enter card title..." id="add-card__input">\n            \n            <div class="card-input-btn">\n                <button id="add-card__confirm-btn" class="add-btn" disabled= "true">Add card</button>\n                <button id="add-card__cancel-btn" class="cancel-btn">X</button>\n\n            </div>\n    ',e.append(t)})(s);const a=document.createElement("button");a.id="add-card__creat",a.textContent="+ Add a card",s.appendChild(a),d.appendChild(s),t()})(a.value,d),a.value="",n.classList.remove("visible"),n.classList.add("hidden"),s.classList.remove("hidden"),s.classList.add("visible"),(()=>{const t=document.querySelectorAll("#add-card__creat");for(const d of t){const t=d.parentElement.querySelector(".card-input-div"),s=d.parentElement.querySelector("#add-card__input"),n=d.parentElement.querySelector("#add-card__confirm-btn"),a=d.parentElement.querySelector("#add-card__cancel-btn");d.classList.contains("has-eventlistener")||(d.classList.add("has-eventlistener"),d.addEventListener("click",(()=>{d.classList.add("hidden"),t.classList.remove("hidden"),t.classList.add("visible"),s.focus()})),s.addEventListener("input",(e=>{""!==e.target.value.trim()?n.disabled=!1:n.disabled=!0})),n.addEventListener("click",(()=>{e(s.value,d.parentElement),s.value="",t.classList.remove("visible"),t.classList.add("hidden"),d.classList.remove("hidden")})),a.addEventListener("click",(()=>{s.value="",t.classList.remove("visible"),t.classList.add("hidden"),d.classList.remove("hidden"),d.classList.add("visible")})))}})()})),i.addEventListener("click",(()=>{n.classList.remove("visible"),n.classList.add("hidden"),s.classList.remove("hidden"),s.classList.add("visible"),a.value=""}))})()})();